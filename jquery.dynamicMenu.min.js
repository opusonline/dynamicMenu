/*!
 * jquery dynamic menu plugin
 * Copyright 2011, Stefan Benicke (opusonline.at)
 * Dual licensed under the MIT or GPL Version 3 licenses.
 */
(function(a){var b={timeout:1000,speed:200,showSubMenu:function(){a(this).stop(true,true).slideDown(b.speed).prev().addClass("hover")},hideSubMenu:function(){a(this).slideUp(b.speed).prev().removeClass("hover")}};a.fn.dynamicMenu=function(c){c=a.extend({},c,b);return this.each(function(){var e=a(this),g=[],j=function(n){var l=a(this),m=l.children("ul").first();if(!m.length){return}var k=l.parentsUntil(e,"li");return l.mouseenter(d).mouseleave(f).data({id:n,sub:m,parents:k})},d=function(){var k=a(this),n=k.data("id"),m=k.data("sub"),l=function(){var o=a(this).data("id");clearTimeout(g[o])};c.showSubMenu.call(m);clearTimeout(g[n]);k.data("parents").each(l);i(k,n);return false},f=function(){var l=a(this),n=l.data("id"),m=l.data("sub"),k=function(){c.hideSubMenu.call(m)};g[n]=window.setTimeout(k,c.timeout)},i=function(l,m){var k=function(){var n=a(this),p=n.data("id"),o=n.data("sub");if(p==m){return}c.hideSubMenu.call(o);clearTimeout(g[p])};l.parent().find(h).each(k)},h=e.find("li").filter(j)})}})(jQuery);