/*!
 * jquery dynamic menu plugin
 * Copyright 2011, Stefan Benicke (opusonline.at)
 * Dual licensed under the MIT or GPL Version 3 licenses.
 */
(function(b){var c={speed:200,delay:350,timeout:1000,showSubMenu:function(){b(this).stop(true,true).slideDown(c.speed).prev().addClass("hover")},hideSubMenu:function(){b(this).fadeOut(c.speed).prev().removeClass("hover")}},a=window;b.fn.dynamicMenu=function(d){d=b.extend({},d,c);return this.each(function(){var f=b(this),j=[],i=[],l=function(p){var n=b(this),o=n.children("ul").first();if(!o.length){return}var m=n.parentsUntil(f,"li");return n.mouseenter(e).mouseleave(h).data({id:p,sub:o,parents:m})},e=function(){var n=b(this),p=n.data(),o=function(){var q=b(this).data("id");clearTimeout(i[q])},m=function(){d.showSubMenu.call(p.sub);clearTimeout(i[p.id]);k(n,p.id)};p.parents.each(o);j[p.id]=a.setTimeout(m,d.delay);return false},h=function(){var n=b(this).data(),m=function(){d.hideSubMenu.call(n.sub)};clearTimeout(j[n.id]);i[n.id]=a.setTimeout(m,d.timeout)},k=function(n,o){var m=function(){var p=b(this).data();if(p.id==o){return}d.hideSubMenu.call(p.sub);clearTimeout(i[p.id])};n.parent().find(g).each(m)},g=f.find("li").filter(l)})}})(jQuery);